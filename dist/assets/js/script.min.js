let lastScrollTop=0,navbar=document.querySelector(".navbar");if(navbar){let t=navbar.offsetHeight;window.addEventListener("scroll",()=>{var e=window.pageYOffset||document.documentElement.scrollTop;e>lastScrollTop&&e>t?navbar.classList.add("navbar-hidden"):navbar.classList.remove("navbar-hidden"),lastScrollTop=e})}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth"})})});let darkModeToggle;document.addEventListener("DOMContentLoaded",()=>{var e=document.querySelectorAll("section");let t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("animate__animated","animate__fadeInUp"),t.unobserve(e.target))})},{threshold:.2}),r=(e.forEach(e=>{t.observe(e)}),document.getElementById("drawings-gallery"));function a(){var e;r&&(r.innerHTML="",0<(e=JSON.parse(localStorage.getItem("drawings"))||[]).length?e.forEach(e=>{var t=document.createElement("div"),a=(t.classList.add("col-md-4","mb-4","position-relative"),document.createElement("img")),e=(a.src=e,a.alt="Dibujo Guardado",a.classList.add("img-fluid"),document.createElement("button"));e.classList.add("btn","btn-danger","btn-sm","position-absolute","top-0","end-0","m-2"),e.innerHTML='<i class="fas fa-times"></i>',t.appendChild(a),t.appendChild(e),r.appendChild(t)}):r.innerHTML='<p class="text-center">Aún no tienes dibujos guardados. ¡Ve a la Pizarra Interactiva y crea uno!</p>')}document.addEventListener("DOMContentLoaded",()=>{a()});e=document.querySelectorAll("img.lazy-img");let o=new IntersectionObserver((e,a)=>{e.forEach(e=>{var t;e.isIntersecting&&((t=(e=e.target).getAttribute("data-src"))&&(e.src=t,e.removeAttribute("data-src")),a.unobserve(e))})});e.forEach(e=>{o.observe(e)}),(async()=>{try{var e=await fetch("/components/header.html");if(!e.ok)throw new Error("HTTP error! status: "+e.status);var t=await e.text(),a=document.getElementById("navbar-container");a&&(a.innerHTML=t,darkModeToggle=document.getElementById("darkModeToggle"))&&(darkModeToggle.addEventListener("click",()=>{document.body.classList.toggle("dark-mode"),document.body.classList.contains("dark-mode")?(localStorage.setItem("theme","dark"),darkModeToggle.innerHTML='<i class="fas fa-sun"></i>'):(localStorage.setItem("theme","light"),darkModeToggle.innerHTML='<i class="fas fa-moon"></i>')}),"dark"===localStorage.getItem("theme")?(document.body.classList.add("dark-mode"),darkModeToggle.innerHTML='<i class="fas fa-sun"></i>'):(document.body.classList.remove("dark-mode"),darkModeToggle.innerHTML='<i class="fas fa-moon"></i>'))}catch(e){console.error("Error loading navbar component:",e)}})(),a()});